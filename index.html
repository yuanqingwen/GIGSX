<!DOCTYPE html> 
<html lang="id"> 
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>DIGSX - Video Platform Premium</title> 
    <style> 
        :root { 
            --primary: #8B5CF6; 
            --secondary: #EC4899; 
            --accent: #D946EF; 
            --bg: linear-gradient(135deg, #1e1b4b 0%, #3b1f6b 50%, #a855f7 100%); 
            --card: rgba(255,255,255,0.12); 
            --card-hover: rgba(255,255,255,0.22); 
            --text: #f8fafc; 
            --text-muted: rgba(255,255,255,0.7); 
            --border: rgba(255,255,255,0.18); 
            --glass: rgba(255,255,255,0.08); 
        } 
 
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        } 
 
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--bg); 
            color: var(--text); 
            overflow-x: hidden; 
        } 
 
        /* LOGO */ 
        .logo { 
            font-size: 2.8rem; 
            font-weight: 900; 
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent)); 
            background-size: 200% 200%; 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-clip: text; 
            animation: logoGlow 3s ease-in-out infinite alternate; 
            text-shadow: 0 0 40px rgba(139, 92, 246, 0.6); 
        } 
 
        @keyframes logoGlow { 
            0% { filter: hue-rotate(0deg) drop-shadow(0 0 20px rgba(139,92,246,0.5)); } 
            100% { filter: hue-rotate(60deg) drop-shadow(0 0 40px rgba(236,72,153,0.7)); } 
        } 
 
        /* NAVBAR */ 
        .navbar { 
            background: rgba(0,0,0,0.4); 
            backdrop-filter: blur(25px); 
            padding: 1rem 5%; 
            position: fixed; 
            width: 100%; 
            top: 0; 
            z-index: 1000; 
            border-bottom: 1px solid var(--border); 
        } 
 
        .nav-container { 
            max-width: 1400px; 
            margin: 0 auto; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
        } 
 
        .nav-links { 
            display: flex; 
            list-style: none; 
            gap: 2.5rem; 
        } 
 
        .nav-links a { 
            color: var(--text); 
            text-decoration: none; 
            font-weight: 600; 
            transition: all 0.4s; 
            position: relative; 
            padding: 0.5rem 0; 
        } 
 
        .nav-links a::after { 
            content: ''; 
            position: absolute; 
            bottom: 0; 
            left: 0; 
            width: 0; 
            height: 2px; 
            background: linear-gradient(45deg, var(--primary), var(--secondary)); 
            transition: width 0.4s; 
        } 
 
        .nav-links a:hover::after { 
            width: 100%; 
        } 
 
        .nav-links a:hover { 
            color: var(--secondary); 
            text-shadow: 0 0 15px var(--secondary); 
        } 
 
        .admin-btn { 
            background: linear-gradient(45deg, var(--primary), var(--secondary)); 
            color: white; 
            padding: 1rem 2.5rem; 
            border: none; 
            border-radius: 50px; 
            font-weight: 700; 
            cursor: pointer; 
            transition: all 0.4s; 
            box-shadow: 0 12px 35px rgba(139, 92, 246, 0.5); 
            position: relative; 
            overflow: hidden; 
        } 
 
        .admin-btn::before { 
            content: ''; 
            position: absolute; 
            top: 0; 
            left: -100%; 
            width: 100%; 
            height: 100%; 
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); 
            transition: left 0.5s; 
        } 
 
        .admin-btn:hover::before { 
            left: 100%; 
        } 
 
        .admin-btn:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 20px 45px rgba(139, 92, 246, 0.7); 
        } 
 
        /* MAIN CONTENT */ 
        .main-container { 
            max-width: 1400px; 
            margin: 0 auto; 
            padding: 140px 5% 8rem; 
        } 
 
        .hero { 
            text-align: center; 
            margin-bottom: 5rem; 
        } 
 
        .hero h1 { 
            font-size: 5rem; 
            margin-bottom: 1.5rem; 
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent)); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-size: 200% 200%; 
            animation: heroGlow 4s ease-in-out infinite; 
        } 
 
        @keyframes heroGlow { 
            0%, 100% { filter: brightness(1); } 
            50% { filter: brightness(1.2); } 
        } 
 
        .hero p { 
            font-size: 1.3rem; 
            color: var(--text-muted); 
        } 
 
        /* VIDEO GRID */ 
        .video-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr)); 
            gap: 2.5rem; 
            margin-bottom: 5rem; 
        } 
 
        .video-card { 
            background: var(--card); 
            border-radius: 25px; 
            overflow: hidden; 
            backdrop-filter: blur(15px); 
            border: 1px solid var(--border); 
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94); 
            cursor: pointer; 
            position: relative; 
        } 
 
        .video-card::before { 
            content: ''; 
            position: absolute; 
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0; 
            background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(236,72,153,0.1)); 
            opacity: 0; 
            transition: opacity 0.5s; 
            z-index: 1; 
        } 
 
        .video-card:hover::before { 
            opacity: 1; 
        } 
 
        .video-card:hover { 
            transform: translateY(-15px) scale(1.02); 
            background: var(--card-hover); 
            box-shadow: 0 35px 70px rgba(0,0,0,0.4); 
        } 
 
        .video-thumbnail { 
            width: 100%; 
            height: 220px; 
            position: relative; 
            overflow: hidden; 
        } 
 
        .video-thumbnail video { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
        } 
 
            position: absolute; 
            opacity: 0.9; 
        } 
 
        .video-overlay { 
            position: absolute; 
            bottom: 15px; 
            right: 15px; 
            background: rgba(0,0,0,0.7); 
            color: white; 
            padding: 0.5rem 1rem; 
            border-radius: 20px; 
            font-size: 0.9rem; 
            font-weight: 600; 
        } 
 
        .video-info { 
            padding: 2rem; 
            position: relative; 
            z-index: 2; 
        } 
 
        .video-title { 
            font-size: 1.4rem; 
            font-weight: 700; 
            margin-bottom: 0.8rem; 
            line-height: 1.3; 
        } 
 
        .video-desc { 
            color: var(--text-muted); 
            font-size: 1rem; 
            line-height: 1.6; 
            margin-bottom: 1.5rem; 
        } 
 
        .video-meta { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            font-size: 0.95rem; 
            color: var(--text-muted); 
        } 
 
        /* VIDEO PLAYER PAGE */ 
        .video-player-page { 
            display: none; 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 140px 5% 5rem; 
        } 
 
        .video-player-container { 
            background: var(--glass); 
            border-radius: 25px; 
            padding: 3rem; 
            margin-bottom: 2rem; 
            border: 1px solid var(--border); 
            backdrop-filter: blur(20px); 
        } 
 
        .player-video { 
            width: 100%; 
            max-height: 500px; 
            border-radius: 20px; 
            background: #000; 
        } 
 
        .video-details h1 { 
            font-size: 2.5rem; 
            margin-bottom: 1rem; 
            background: linear-gradient(45deg, var(--primary), var(--secondary)); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
        } 
 
        .back-btn { 
            background: linear-gradient(45deg, var(--primary), var(--secondary)); 
            color: white; 
            padding: 1rem 2rem; 
            border: none; 
            border-radius: 50px; 
            font-weight: 600; 
            cursor: pointer; 
            margin-bottom: 2rem; 
            transition: all 0.3s; 
        } 
 
        .back-btn:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 15px 30px rgba(139, 92, 246, 0.4); 
        } 
 
        /* IKLAN - POSISI TERBAWAH */ 
        .ads-container { 
            background: var(--card); 
            border-radius: 20px; 
            padding: 3rem; 
            margin: 6rem auto 3rem; 
            text-align: center; 
            border: 1px solid var(--border); 
            max-width: 1400px; 
            backdrop-filter: blur(15px); 
        } 
 
        /* MODALS */ 
        .modal { 
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.85); 
            z-index: 3000; 
            backdrop-filter: blur(15px); 
        } 
 
        .modal-content { 
            background: linear-gradient(135deg, rgba(30,27,75,0.98), rgba(59,31,107,0.98)); 
            margin: 5% auto; 
            padding: 3.5rem; 
            border-radius: 30px; 
            max-width: 550px; 
            width: 92%; 
            border: 1px solid var(--border); 
            backdrop-filter: blur(25px); 
            box-shadow: 0 40px 100px rgba(0,0,0,0.5); 
        } 
 
        /* ADMIN PANEL */ 
        .admin-panel { 
            display: none; 
            max-width: 1400px; 
            margin: 2rem auto; 
            padding: 3rem; 
        } 
 
        .admin-nav { 
            display: flex; 
            gap: 1.5rem; 
            margin-bottom: 3rem; 
            flex-wrap: wrap; 
        } 
 
        .admin-nav button { 
            padding: 1.2rem 2.5rem; 
            background: var(--glass); 
            color: var(--text); 
            border: 1px solid var(--border); 
            border-radius: 15px; 
            cursor: pointer; 
            transition: all 0.4s; 
            font-weight: 600; 
        } 
 
        .admin-nav button.active, 
        .admin-nav button:hover { 
            background: linear-gradient(45deg, var(--primary), var(--secondary)); 
            transform: translateY(-3px); 
            box-shadow: 0 15px 35px rgba(139, 92, 246, 0.4); 
        } 
 
        .admin-section { 
            display: none; 
            background: var(--card); 
            padding: 3rem; 
            border-radius: 25px; 
            border: 1px solid var(--border); 
        } 
 
        .admin-section.active { 
            display: block; 
            animation: fadeIn 0.5s ease-in; 
        } 
 
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(20px); } 
            to { opacity: 1; transform: translateY(0); } 
        } 
 
        .stats-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 2.5rem; 
            margin-bottom: 3rem; 
        } 
 
        .stat-card { 
            background: rgba(255,255,255,0.12); 
            padding: 2.5rem; 
            border-radius: 20px; 
            text-align: center; 
            border: 1px solid var(--border); 
            transition: all 0.3s; 
        } 
 
        .stat-card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 20px 40px rgba(0,0,0,0.3); 
        } 
 
        .stat-number { 
            font-size: 3.5rem; 
            font-weight: 900; 
            background: linear-gradient(45deg, var(--primary), var(--secondary)); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            margin-bottom: 1rem; 
        } 
 
        .video-list { 
            display: flex; 
            flex-direction: column; 
            gap: 1.5rem; 
        } 
 
        .video-item { 
            background: rgba(255,255,255,0.08); 
            padding: 2rem; 
            border-radius: 18px; 
            border: 1px solid var(--border); 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            transition: all 0.3s; 
        } 
 
        .video-item:hover { 
            background: rgba(255,255,255,0.15); 
            transform: translateX(10px); 
        } 
 
        /* FORMS */ 
        .form-group { 
            margin-bottom: 2rem; 
        } 
 
        .form-group label { 
            display: block; 
            margin-bottom: 0.8rem; 
            font-weight: 700; 
            color: var(--secondary); 
            font-size: 1.1rem; 
        } 
 
        .form-group input, 
        .form-group textarea { 
            width: 100%; 
            padding: 1.2rem; 
            border: 2px solid var(--border); 
            border-radius: 15px; 
            background: rgba(255,255,255,0.12); 
            color: var(--text); 
            font-size: 1.1rem; 
            transition: all 0.3s; 
        } 
 
        .form-group input:focus, 
        .form-group textarea:focus { 
            outline: none; 
            border-color: var(--secondary); 
            box-shadow: 0 0 25px rgba(236, 72, 153, 0.4); 
            background: rgba(255,255,255,0.18); 
        } 
 
        .btn-primary { 
            width: 100%; 
            padding: 1.5rem; 
            background: linear-gradient(45deg, var(--primary), var(--secondary)); 
            color: white; 
            border: none; 
            border-radius: 15px; 
            font-size: 1.2rem; 
            font-weight: 700; 
            cursor: pointer; 
            transition: all 0.4s; 
        } 
 
        .btn-primary:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 20px 40px rgba(139, 92, 246, 0.5); 
        } 
 
        /* LOADING */ 
        .loading { 
            display: none; 
            text-align: center; 
            padding: 3rem; 
        } 
 
        .spinner { 
            border: 5px solid var(--border); 
            border-top: 5px solid var(--secondary); 
            border-radius: 50%; 
            width: 60px; 
            height: 60px; 
            animation: spin 1s linear infinite; 
            margin: 0 auto 2rem; 
        } 
 
        @keyframes spin { 
            0% { transform: rotate(0deg); } 
            100% { transform: rotate(360deg); } 
        } 
 
        /* RESPONSIVE */ 
        @media (max-width: 768px) { 
            .nav-links { display: none; } 
            .hero h1 { font-size: 3rem; } 
            .video-grid { grid-template-columns: 1fr; } 
            .video-player-container { padding: 2rem 1rem; } 
        } 
 
        /* EMPTY STATE */ 
        .empty-state { 
            text-align: center; 
            padding: 6rem 2rem; 
            color: var(--text-muted); 
        } 
 
        .empty-state h2 { 
            font-size: 2.5rem; 
            margin-bottom: 1rem; 
        } 
    </style> 
</head> 
<body> 
    <!-- NAVBAR --> 
    <nav class="navbar"> 
        <div class="nav-container"> 
            <div class="logo">DIGSX</div> 
            <ul class="nav-links"> 
                <li><a href="#home">Home</a></li> 
                <li><a href="#videos">Videos</a></li> 
                <li><a href="#about">About</a></li> 
            </ul> 
            <button class="admin-btn" onclick="openAdminLogin()">üîê Admin Panel</button> 
        </div> 
    </nav> 
 
    <!-- MAIN CONTENT --> 
    <div class="main-container" id="mainContent"> 
        <!-- HERO --> 
        <div class="hero"> 
            <h1>DIGSX</h1> 
            <p>Platform video premium dengan desain ungu-pink tercanggih ‚ú®</p> 
        </div> 
 
        <!-- VIDEO GRID --> 
        <div id="videoGrid" class="video-grid"></div> 
         
        <div id="noVideos" class="empty-state" style="display: none;"> 
            <h2>üìπ Belum ada video</h2> 
            <p>Admin belum mengupload konten. Silakan cek lagi nanti!</p> 
        </div> 
 
        <!-- IKLAN - POSISI TERBAWAH --> 
        <div class="ads-container"> 
            <div id="ad-container"> 
                <script async="async" data-cfasync="false" src="//pl28189289.effectivegatecpm.com/bc4db932080e817e5266a26132d9f242/invoke.js"></script> 
                <div id="container-bc4db932080e817e5266a26132d9f242"></div> 
            </div> 
        </div> 
    </div> 
 
    <!-- VIDEO PLAYER PAGE --> 
    <div id="videoPlayerPage" class="video-player-page"> 
        <button class="back-btn" onclick="showMainPage()">‚Üê Kembali ke Home</button> 
        <div class="video-player-container"> 
            <video id="mainPlayer" class="player-video" controls></video> 
            <div class="video-details"> 
                <h1 id="playerTitle"></h1> 
                <p id="playerDesc"></p> 
                <div id="playerMeta" class="video-meta"></div> 
            </div> 
        </div> 
    </div> 
 
    <!-- LOGIN MODAL --> 
    <div id="loginModal" class="modal"> 
        <div class="modal-content"> 
            <span class="close" onclick="closeModal('loginModal')">&times;</span> 
            <h2>üîê Admin Login</h2> 
            <form onsubmit="loginAdmin(event)"> 
                <div class="form-group"> 
                    <label>Email:</label> 
                    <input type="email" id="adminEmail" required> 
                </div> 
                <div class="form-group"> 
                    <label>Password:</label> 
                    <input type="password" id="adminPass" required> 
                </div> 
                <button type="submit" class="btn-primary">üöÄ Masuk Admin</button> 
            </form> 
        </div> 
    </div> 
 
    <!-- ADMIN PANEL --> 
    <div id="adminPanel" class="admin-panel"> 
        <h2>üéõÔ∏è DIGSX Admin Panel Premium</h2> 
        <div class="admin-nav"> 
            <button onclick="showAdminSection('dashboard')" class="active">üìä Dashboard</button> 
            <button onclick="showAdminSection('upload')">üì§ Upload Video</button> 
            <button onclick="showAdminSection('videos')">üìπ Kelola Video</button> 
            <button onclick="logoutAdmin()">üö™ Logout</button> 
        </div> 
 
        <!-- DASHBOARD --> 
        <div id="dashboard" class="admin-section active"> 
            <div class="stats-grid"> 
                <div class="stat-card"> 
                    <div class="stat-number" id="totalViews">0</div> 
                    <div>Total Views</div> 
                </div> 
                <div class="stat-card"> 
                    <div class="stat-number" id="totalVideos">0</div> 
                    <div>Total Videos</div> 
                </div> 
                <div class="stat-card"> 
                    <div class="stat-number" id="totalVisitors">0</div> 
                    <div>Total Visitors</div> 
                </div> 
                <div class="stat-card"> 
                    <div class="stat-number" id="adImpressions">0</div> 
                    <div>Ad Impressions</div> 
                </div> 
            </div> 
        </div> 
 
        <!-- UPLOAD --> 
        <div id="upload" class="admin-section"> 
            <h3>üì§ Upload Video Baru</h3> 
            <form id="uploadForm" onsubmit="uploadVideo(event)"> 
                <div class="form-group"> 
                    <label>Judul Video:</label> 
                    <input type="text" id="videoTitle" required> 
                </div> 
                <div class="form-group"> 
                    <label>Deskripsi:</label> 
                    <textarea id="videoDesc" rows="4" required></textarea> 
                </div> 
                <div class="form-group"> 
                    <label>Video File:</label> 
                    <input type="file" id="videoFile" accept="video/*" required> 
                </div> 
                <button type="submit" class="btn-primary">üöÄ Upload Video Sekarang</button> 
            </form> 
            <div id="uploadProgress" class="loading"> 
                <div class="spinner"></div> 
                <p>‚è≥ Processing video... Sampul otomatis di-generate (3-4 detik)</p> 
            </div> 
        </div> 
 
        <!-- VIDEO LIST --> 
        <div id="videos" class="admin-section"> 
            <h3>üìπ Daftar Video</h3> 
            <div id="adminVideoList" class="video-list"></div> 
        </div> 
    </div> 
 
    <script> 
        // DATABASE LOCALSTORAGE 
        const DB = { 
            init() { 
                if (!localStorage.getItem('digsx_videos')) { 
                    localStorage.setItem('digsx_videos', JSON.stringify([])); 
                } 
                if (!localStorage.getItem('digsx_stats')) { 
                    localStorage.setItem('digsx_stats', JSON.stringify({ 
                        totalViews: 0, 
                        totalVideos: 0, 
                        totalVisitors: 0, 
                        adImpressions: 0 
                    })); 
                } 
                if (!localStorage.getItem('digsx_admin')) { 
                    localStorage.setItem('digsx_admin', 'false'); 
                } 
            }, 
            getVideos() { 
                return JSON.parse(localStorage.getItem('digsx_videos') || '[]'); 
            }, 
            saveVideos(videos) { 
                localStorage.setItem('digsx_videos', JSON.stringify(videos)); 
            }, 
            getStats() { 
                return JSON.parse(localStorage.getItem('digsx_stats') || '{}'); 
            }, 
            updateStats(updates) { 
                const stats = this.getStats(); 
                Object.assign(stats, updates); 
                localStorage.setItem('digsx_stats', JSON.stringify(stats)); 
            }, 
            loginAdmin() { 
                localStorage.setItem('digsx_admin', 'true'); 
            }, 
            logoutAdmin() { 
                localStorage.setItem('digsx_admin', 'false'); 
            } 
        }; 
 
        let currentVideoIndex = -1; 
        let thumbnailCache = new Map(); 
 
        // INIT 
        DB.init(); 
        loadVideos(); 
        updateStatsDisplay(); 
        trackVisitor(); 
 
        function trackVisitor() { 
            const stats = DB.getStats(); 
            stats.totalVisitors = (stats.totalVisitors || 0) + 1; 
            DB.updateStats(stats); 
            updateStatsDisplay(); 
        } 
 
        // LOAD VIDEOS WITH THUMBNAILS 
        function loadVideos() { 
            const videos = DB.getVideos(); 
            const grid = document.getElementById('videoGrid'); 
            const noVideos = document.getElementById('noVideos'); 
 
            if (videos.length === 0) { 
                grid.style.display = 'none'; 
                noVideos.style.display = 'block'; 
                return; 
            } 
 
            grid.style.display = 'grid'; 
            noVideos.style.display = 'none'; 
            grid.innerHTML = ''; 
 
            videos.forEach((video, index) => { 
                const card = document.createElement('div'); 
                card.className = 'video-card'; 
                card.onclick = () => playVideoFullPage(video, index); 
                 
                const thumbKey = `${video.id}_${video.uploaded}`; 
                const cachedThumb = thumbnailCache.get(thumbKey); 
                 
                card.innerHTML = ` 
                    <div class="video-thumbnail"> 
                        ${cachedThumb ?  
                            `<video src="${URL.createObjectURL(video.file)}" muted style="width:100%;height:100%;object-fit:cover;"></video>` : 
                            `<div class="thumbnail-placeholder">${video.title.substring(0,1).toUpperCase()}</div>` 
                        } 
                        <div class="video-overlay">‚ñ∂ ${video.views || 0} views</div> 
                    </div> 
                    <div class="video-info"> 
                        <div class="video-title">${video.title}</div> 
                        <div class="video-desc">${video.desc}</div> 
                        <div class="video-meta"> 
                            <span>üëÅÔ∏è ${video.views || 0} views</span> 
                            <span>${new Date(video.uploaded).toLocaleDateString('id-ID')}</span> 
                        </div> 
                    </div> 
                `; 
                 
                grid.appendChild(card); 
                 
                // Generate thumbnail if not cached 
                if (!cachedThumb && video.file) { 
                    generateThumbnail(video.file, thumbKey); 
                } 
            }); 
        } 
 
        // GENERATE THUMBNAIL 
        function generateThumbnail(videoFile, thumbKey) { 
            const video = document.createElement('video'); 
            const canvas = document.createElement('canvas'); 
            const ctx = canvas.getContext('2d'); 
             
            canvas.width = 640; 
            canvas.height = 360; 
            video.muted = true; 
             
            video.onloadeddata = () => { 
                video.currentTime = 1; // Get thumbnail at 1 second 
            }; 
             
            video.onseeked = () => { 
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height); 
                canvas.toBlob(thumbBlob => { 
                    thumbnailCache.set(thumbKey, URL.createObjectURL(thumbBlob)); 
                    loadVideos(); // Refresh to show thumbnails 
                }); 
            }; 
             
            video.src = URL.createObjectURL(videoFile); 
        } 
 
        // FULL PAGE VIDEO PLAYER 
        function playVideoFullPage(video, index) { 
            currentVideoIndex = index; 
            document.getElementById('mainContent').style.display = 'none'; 
            document.getElementById('videoPlayerPage').style.display = 'block'; 
             
            const player = document.getElementById('mainPlayer'); 
            const title = document.getElementById('playerTitle'); 
            const desc = document.getElementById('playerDesc'); 
            const meta = document.getElementById('playerMeta'); 
             
            player.src = URL.createObjectURL(video.file); 
            title.textContent = video.title; 
            desc.textContent = video.desc; 
            meta.innerHTML = `üëÅÔ∏è ${video.views || 0} views ‚Ä¢ üìÖ ${new Date(video.uploaded).toLocaleDateString('id-ID')}`; 
             
            // Track view 
            trackVideoView(index); 
            player.play(); 
        } 
 
        function showMainPage() { 
            document.getElementById('mainContent').style.display = 'block'; 
            document.getElementById('videoPlayerPage').style.display = 'none'; 
            loadVideos(); 
        } 
 
        function trackVideoView(index) { 
            const videos = DB.getVideos(); 
            if (videos[index]) { 
                videos[index].views = (videos[index].views || 0) + 1; 
                DB.saveVideos(videos); 
            } 
            const stats = DB.getStats(); 
            stats.totalViews = (stats.totalViews || 0) + 1; 
            DB.updateStats(stats); 
            updateStatsDisplay(); 
        } 
 
        // ADMIN FUNCTIONS 
        const ADMIN_EMAIL = 'yuanqingwen31@gmail.com'; 
        const ADMIN_PASS = 'Msgfy678'; 
 
        function openAdminLogin() { 
            document.getElementById('loginModal').style.display = 'block'; 
        } 
 
        function closeModal(modalId) { 
            document.getElementById(modalId).style.display = 'none'; 
        } 
 
        function loginAdmin(e) { 
            e.preventDefault(); 
            const email = document.getElementById('adminEmail').value; 
            const pass = document.getElementById('adminPass').value; 
 
            if (email === ADMIN_EMAIL && pass === ADMIN_PASS) { 
                DB.loginAdmin(); 
                document.getElementById('loginModal').style.display = 'none'; 
                document.getElementById('mainContent').style.display = 'none'; 
                document.getElementById('adminPanel').style.display = 'block'; 
                loadAdminVideos(); 
                updateStatsDisplay(); 
            } else { 
                alert('‚ùå Email atau password salah!'); 
            } 
        } 
 
        function showAdminSection(section) { 
            document.querySelectorAll('.admin-section').forEach(s => s.classList.remove('active')); 
            document.querySelectorAll('.admin-nav button').forEach(b => b.classList.remove('active')); 
            document.getElementById(section).classList.add('active'); 
            event.target.classList.add('active'); 
        } 
 
        function logoutAdmin() { 
            DB.logoutAdmin(); 
            document.getElementById('adminPanel').style.display = 'none'; 
            document.getElementById('mainContent').style.display = 'block'; 
            showMainPage(); 
        } 
 
        function updateStatsDisplay() { 
            const stats = DB.getStats(); 
            document.getElementById('totalViews').textContent = stats.totalViews || 0; 
            document.getElementById('totalVideos').textContent = DB.getVideos().length; 
            document.getElementById('totalVisitors').textContent = stats.totalVisitors || 0; 
            document.getElementById('adImpressions').textContent = stats.adImpressions || 0; 
        } 
 
        // UPLOAD VIDEO WITH THUMBNAIL 
        function uploadVideo(e) { 
            e.preventDefault(); 
            const title = document.getElementById('videoTitle').value; 
            const desc = document.getElementById('videoDesc').value; 
            const file = document.getElementById('videoFile').files[0]; 
 
            if (!file) { 
                alert('Pilih file video!'); 
                return; 
            } 
 
            const progress = document.getElementById('uploadProgress'); 
            const form = e.target; 
             
            progress.style.display = 'block'; 
            form.style.display = 'none'; 
 
            setTimeout(() => { 
                const videos = DB.getVideos(); 
                const videoData = { 
                    id: Date.now(), 
                    title, 
                    desc, 
                    file, 
                    uploaded: new Date().toISOString(), 
                    views: 0 
                }; 
                videos.unshift(videoData); 
                DB.saveVideos(videos); 
                 
                const stats = DB.getStats(); 
                stats.totalVideos = videos.length; 
                DB.updateStats(stats); 
 
                form.reset(); 
                form.style.display = 'block'; 
                progress.style.display = 'none'; 
 
                loadVideos(); 
                loadAdminVideos(); 
                updateStatsDisplay(); 
                 
                alert('‚úÖ Video berhasil diupload dengan thumbnail otomatis!'); 
            }, 3500); 
        } 
 
        function loadAdminVideos() { 
            const videos = DB.getVideos(); 
            const container = document.getElementById('adminVideoList'); 
            container.innerHTML = ''; 
 
            if (videos.length === 0) { 
                container.innerHTML = '<p style="color: var(--text-muted); text-align: center; padding: 3rem;">Belum ada video yang diupload</p>'; 
                return; 
            } 
 
            videos.forEach(video => { 
                const item = document.createElement('div'); 
                item.className = 'video-item'; 
                item.innerHTML = ` 
                    <div> 
                        <strong style="color: var(--text);">${video.title}</strong><br> 
                        <small style="color: var(--text-muted);">${video.desc.substring(0, 100)}...</small><br> 
                        <small style="color: var(--accent);">üëÅÔ∏è ${video.views || 0} views | üìÖ ${new Date(video.uploaded).toLocaleDateString('id-ID')}</small> 
                    </div> 
                    <button onclick="deleteVideo(${video.id})" style="background: linear-gradient(45deg, #ef4444, #dc2626); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 12px; cursor: pointer; font-weight: 600;">üóëÔ∏è Hapus</button> 
                `; 
                container.appendChild(item); 
            }); 
        } 
 
        function deleteVideo(id) { 
            if (confirm('Hapus video ini?')) { 
                let videos = DB.getVideos(); 
                videos = videos.filter(v => v.id !== id); 
                DB.saveVideos(videos); 
                loadVideos(); 
                loadAdminVideos(); 
                updateStatsDisplay(); 
            } 
        } 
 
        // CLOSE MODALS & TRACK ADS 
        window.onclick = function(event) { 
            if (event.target.classList.contains('modal')) { 
                event.target.style.display = 'none'; 
            } 
        }; 
 
        setInterval(() => { 
            const stats = DB.getStats(); 
            stats.adImpressions = (stats.adImpressions || 0) + 1; 
            DB.updateStats(stats); 
            updateStatsDisplay(); 
        }, 8000); 
    </script> 
</body> 
</html> 

